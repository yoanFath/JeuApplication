<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Test jeux</title>

    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css"/>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>


</head>
<body>
<div class="starter-template">
    <h1>Spring Boot Web Thymeleaf Example</h1>
    <h2>
        <span th:text="'Hello, ' + ${message}"></span>
    </h2>

    <div class="row mb-1">
        <input class="form-control col-sm-2 ml-1" type="text" id="nom_jeu" nom_jeu="nom_jeu" placeholder="nom_jeu">
        <input class="form-control col-sm-2 ml-1" type="text" id="genre" nom_jeu="genre" placeholder="genre">
        <input class="form-control col-sm-2 ml-1" type="text" id="editeur" nom_jeu="editeur" placeholder="editeur">
    </div>

    <div class="col-sm-12">
        <table id="example" class="table table-striped table-bordered ">
            <thead>
            <tr>
                <th>Name</th>
                <th>Genre</th>
                <th>Editeur</th>
                <th>Theme</th>
                <th>Type</th>
            </tr>
            </thead>

        </table>
    </div>
</div>

</body>
</html>

<script>
    $(document).ready(function () {
        var table = $('#example').DataTable({
            "processing": true,
            "ajax": {
                "url": "/api/jeux/all"
            },
            "columnDefs": [
                {"className": "dt-center", "targets": "_all"}
            ],
            "sAjaxDataProp": "",
            "columns": [
                {"data": "nom_jeu"},
                {"data": "genre.nom_genre"},
                {"data": "editeur.nom_editeur"},
                {"data": "theme.nom_theme"},
                {"data": "type.nom_type"},
            ]
        });


        $('#genre').keyup(function () {
            table.column(1).search($("#genre").val()).draw();
        });
        $('#editeur').keyup(function () {
            table.column(2).search($("#editeur").val()).draw();
        });
        $('#nom_jeu').keyup(function () {
            table.column(0).search($("#nom_jeu").val()).draw();
        });

    });


</script>