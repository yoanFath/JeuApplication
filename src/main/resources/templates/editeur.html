<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Editeurs</title>


    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css"/>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>


</head>
<body>
<div class="starter-template">
    <h1>Spring Boot Web Thymeleaf Example</h1>


    <div> TODO ADD BUTTON ADD EDITEUR</div>
    <div class="col-sm-12">
        <table id="example" class="table table-striped table-bordered ">
            <thead>
            <tr>
                <th>Nom</th>
                <th>Modifier</th>
                <th>Supprimer</th>
            </tr>
            </thead>

        </table>
    </div>
</div>
</body>
</html>


<script>
    $(document).ready(function () {
        var table = $('#example').DataTable({
            "processing": true,
            "ajax": {
                "url": "/api/editeur/all"
            },
            "columnDefs": [
                {"className": "dt-center", "targets": "_all"}
            ],
            "sAjaxDataProp": "",
            "columns": [
                {"data": "nom_editeur"},
                {"data": function(data){
                    // TODO appel ajax on click
                    return "modifier id " + data.id;
                    }},
                {"data": function(data){
                        // TODO appel ajax on click
                        return "supprimer id " + data.id;
                    }}

            ]
        });


        $('#genre').keyup(function () {
            table.column(1).search($("#genre").val()).draw();
        });
        $('#editeur').keyup(function () {
            table.column(2).search($("#editeur").val()).draw();
        });
        $('#nom_jeu').keyup(function () {
            table.column(0).search($("#nom_jeu").val()).draw();
        });

    });


</script>